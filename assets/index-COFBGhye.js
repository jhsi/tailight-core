(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function i(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(o){if(o.ep)return;o.ep=!0;const n=i(o);fetch(o.href,n)}})();function m(t){const e=t.getBoundingClientRect();return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function g(t){return[{left:t.left,top:t.top},{left:t.right,top:t.top},{left:t.right,top:t.bottom},{left:t.left,top:t.bottom}]}function N(t,e){let i=[];const s=e[0].top<=t[0].top&&e[1].top<=t[1].top,o=e[3].top>=t[3].top&&e[2].top>=t[2].top,n=e[0].left<=t[0].left&&e[3].left<=t[3].left,r=e[1].left>=t[1].left&&e[2].left>=t[2].left,l=s&&r,u=s&&n,a=n&&o,d=o&&r;return l&&u?i=[t[3],e[3],e[2],t[2]]:u&&a?i=[t[1],t[2],e[2],e[1]]:a&&d?i=[t[0],t[1],e[1],e[0]]:l&&d?i=[t[0],e[0],e[3],t[3]]:l?i=[t[0],e[0],e[3],e[2],t[2],t[1]]:u?i=[t[0],t[3],e[3],e[2],e[1],t[1]]:a?i=[t[0],t[3],t[2],e[2],e[1],e[0]]:d&&(i=[t[3],t[2],t[1],e[1],e[0],e[3]]),i}const w={dest:!0,src:!1};function X(t,e,i){var s,o;const n=g(m(t)),r=g(m(e));let l=[N(n,r)];return(((s=i==null?void 0:i.include)==null?void 0:s.src)??w.src)&&l.push(n),(((o=i==null?void 0:i.include)==null?void 0:o.dest)??w.dest)&&l.push(r),l}function y(t,e){let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const n=e[s].left,r=e[s].top,l=e[o].left,u=e[o].top;r>t.top!=u>t.top&&t.left<(l-n)*(t.top-r)/(u-r)+n&&(i=!i)}return i}let k=0;const p=new Map;function M(t,e,i={},s){A(t);const o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.style.position="fixed",o.style.top="0",o.style.left="0",o.style.width="100%",o.style.height="100%",o.style.pointerEvents="none",o.style.zIndex="9999";const n=document.createElementNS("http://www.w3.org/2000/svg","polygon");n.setAttribute("fill","rgba(255,0,0,0.2)"),n.setAttribute("stroke","red"),n.setAttribute("stroke-width","1"),n.setAttribute("pointer-events","auto"),Object.entries(i).forEach(([u,a])=>{n.setAttribute(u,a)});const r=e.map(u=>`${u.left},${u.top}`).join(" ");n.setAttribute("points",r),s&&(s.onClick&&n.addEventListener("click",s.onClick),s.onMouseEnter&&n.addEventListener("mouseenter",s.onMouseEnter),s.onMouseMove&&n.addEventListener("mousemove",s.onMouseMove),s.onMouseDown&&n.addEventListener("mousedown",s.onMouseDown),s.onMouseUp&&n.addEventListener("mouseup",s.onMouseUp),s.onMouseLeave&&n.addEventListener("mouseleave",u=>{const a={left:u.clientX,top:u.clientY};let d=!1;p.forEach((x,D)=>{D!==l&&y(a,x.polygon)&&(d=!0)}),!d&&s!=null&&s.onMouseLeave&&s.onMouseLeave(u)})),o.appendChild(n),document.body.appendChild(o);const l=t??k++;return p.set(l,{svg:o,polygon:e,events:s}),l}function Y(){p.forEach((t,e)=>{t&&t.svg.parentNode&&(t.svg.parentNode.removeChild(t.svg),p.delete(e))})}function A(t){const e=p.get(t);e&&e.svg.parentNode&&(e.svg.parentNode.removeChild(e.svg),p.delete(t))}function B(t,e){let i=0;return(...s)=>{const o=Date.now();o-i>=e&&(i=o,t(...s))}}const _=50;function v(t,e,i){var s,o,n,r;const l={left:t.clientX,top:t.clientY},u=y(l,g(m(e.dest))),a=y(l,g(m(e.src)));u&&(o=(s=e.options)==null?void 0:s.include)!=null&&o.dest?e.dest.dispatchEvent(new MouseEvent(i,t)):a&&(r=(n=e.options)==null?void 0:n.include)!=null&&r.src&&e.src.dispatchEvent(new MouseEvent(i,t))}function I(t){const e=()=>X(t.src,t.dest,t.options);let i=e();const s={onClick:r=>{var l;(l=t.onPathClick)==null||l.call(t,r),v(r,t,"click")},onMouseDown:r=>{var l;(l=t.onPathMouseDown)==null||l.call(t,r),v(r,t,"mousedown")},onMouseUp:r=>{var l;(l=t.onPathMouseUp)==null||l.call(t,r),v(r,t,"mouseup")},onMouseMove:r=>{var l;(l=t.onPathMouseMove)==null||l.call(t,r),v(r,t,"mousemove")},onMouseEnter:r=>{var l;(l=t.onPathMouseEnter)==null||l.call(t,r)},onMouseLeave:r=>{var l;(l=t.onPathMouseLeave)==null||l.call(t,r)}};t.showOverlay&&i.forEach((r,l)=>{var u;return M(l,r,(u=t.options)==null?void 0:u.overlayCSS,s)});const o=B(()=>{i=e(),t.showOverlay&&i.forEach((r,l)=>{var u;return M(l,r,(u=t.options)==null?void 0:u.overlayCSS,s)})},_),n=new ResizeObserver(o);return n.observe(t.src),n.observe(t.dest),window.addEventListener("resize",o),{destroy(){window.removeEventListener("resize",o),n.disconnect(),t.showOverlay&&Y()}}}function z(t){return I(t)}const E=document.getElementById("source"),c=document.getElementById("destination");let f=null;function b(){return z({src:E,dest:c,onPathMouseEnter:()=>{c.dataset.active="true",c.textContent="follow the light"},onPathMouseLeave:t=>{const e=c.getBoundingClientRect();t.clientX>=e.left&&t.clientY>=e.top&&t.clientX<=e.right&&t.clientY<=e.bottom?c.innerHTML="you made it :) <br /> take care!":(c.dataset.active="false",c.textContent="click & drag"),f==null||f.destroy()},tolerance:0,options:{include:{src:!0,dest:!1},overlayCSS:{fill:"rgba(255,255,255,0.2)",stroke:"white","stroke-width":"0px","stroke-opacity":"0","mix-blend-mode":"multiply"}},showOverlay:!0})}let h=!1,L,C,P,S;E.addEventListener("mouseenter",()=>{f=b()});c.addEventListener("mousedown",t=>{t.preventDefault(),t.stopPropagation(),h=!0,c.style.cursor="grabbing",L=t.clientX,C=t.clientY;const e=new WebKitCSSMatrix(getComputedStyle(c).transform);P=e.m41,S=e.m42});document.addEventListener("mousemove",t=>{if(!h)return;t.preventDefault(),t.stopPropagation();const e=t.clientX-L,i=t.clientY-C;c.style.transform=`translate(calc(${P+e}px), calc(${S+i}px))`,f=b()});document.addEventListener("mouseup",t=>{h&&(h=!1,c.style.cursor="grab")});
